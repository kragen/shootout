<span class="slc">;;; The Computer Language Shootout</span>
<span class="slc">;;; http://shootout.alioth.debian.org/</span>
<span class="slc">;;; Contributed by Robbert Haarman</span>
<span class="slc">;;;</span>
<span class="slc">;;; fannkuch for Lisp (SBCL)</span>
<span class="slc">;;;</span>
<span class="slc">;;; Compile: sbcl --load fannkuch.lisp --eval &quot;(save-lisp-and-die \&quot;fannkuch.core\&quot; :purify t :toplevel (lambda () (main) (quit)))&quot;</span>
<span class="slc">;;;</span>
<span class="slc">;;; Run: sbcl --noinform --core fannkuch.core %A</span>

<span class="sym">(</span>proclaim <span class="str">'(optimize (speed 3)</span>
<span class="str">	(safety 0) (debug 0) (space 0) (compilation-speed 0)))</span>
<span class="str"></span>
<span class="str">(defparameter *print-perms* 30)</span>
<span class="str">(proclaim '</span><span class="sym">(</span>fixnum <span class="sym">*</span><span class="kwa">print</span><span class="sym">-</span>perms<span class="sym">*))</span>

<span class="sym">(</span><span class="kwa">defun print</span><span class="sym">-</span>permutation <span class="sym">(</span>permutation<span class="sym">)</span>
	<span class="sym">(</span>format t <span class="str">&quot;窿ウ聃雉患箴犷俭疳沆狍蠼Ⅲ恝鲸集箴犷俱镥蜚疱蝽豸狒轱俭疳沆狍蠼Ⅲ趄⒕ъ轶舂┅集箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅骒轲疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈豉疱箝眇戾鲥泗矧疱蝽豸狒轱瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕戾èㄡ蝈疱蝽豸狒轱癌┅集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈ㄦ轼铛瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕戾è栳戽ㄦ祜矧博┅集箴犷俭疳沆狍蠼Ⅲ趄⒕祜镳骘骝镯麸ū栳戽┘箴犷俭疳沆狍蠼Ⅲ趄⒕滹蝻翎翦ㄡ蝈疱蝽豸狒轱椹集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄡ蝈疱蝽豸狒轱ǐ暴┅集箴犷俭疳沆狍蠼Ⅲ趄⒕箦翩ō博┅┅┘箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅泔躅舡骒轲疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈豉疱箝眇戾鲥泗矧疱蝽豸狒轱瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕祜镳骘骒轲骈铛翳孱ㄩ钽骒轲螬集箴犷俭疳沆狍蠼Ⅲ趄⒕躅糸翳骈铛ㄡ蝈疱蝽豸狒轱癌暴集箴犷俭疳沆狍蠼Ⅲ趄⒕滹ㄦ扉疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕骈钺祆蝈趱蝾骒轲螬┅集箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅磲脲疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈ㄦ轼铛瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕磲脲狎蜥扉篝瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕洪铋糸犰泔铘孱趔祜镳骘骝镯麸泔祆邈糸铉椹┅集箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅蝻翎翦骈蝮疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈豉疱箝眇戾鲥泗矧疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄦ轼铛瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕戾èㄡ蝈疱蝽豸狒轱癌┅集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ雉轫弩ㄩū瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕箦翩ㄡ蝈疱蝽豸狒轱椹集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄡ蝈疱蝽豸狒轱ū椹┅┘箴犷俭疳沆狍蠼Ⅲ趄⒕箦翩ㄡ蝈疱蝽豸狒轱ū瞟┅┘箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅汜祆鏖翳疱蝽豸狒轱铙蝈ㄦ躅疱蝽豸狒轱戾瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈ㄦ躅泗轱骢瞟ㄦ轼铛戾瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕戾è疱蝽ㄣ镳箦疱蝽豸狒轱瞟┅集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄩ戾暴ㄦ躅汜祆骢疱蝽┘箴犷俭疳沆狍蠼Ⅲ趄⒕痱镧罴箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ雉轫弩ㄩū戾瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕ㄣ犰飙鏖翳疱蝽豸狒轱铙蝈慵箴犷俭疳沆狍蠼Ⅲ趄⒕骢疱蝽ū戾瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕蝻翎翦骈蝮疱蝽戾瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕ㄣ犰飙鏖翳疱蝽豸狒轱铙蝈慵箴犷俭疳沆狍蠼Ⅲ趄⒕骢疱蝽ū戾瞟┅┅┘箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅汜祆鏖翳疱蝽豸狒轱铙ㄦ躅轭轸獒飙疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄣ犰飙鏖翳疱蝽豸狒轱铙蝈骢轭轸獒飙疱蝽豸狒轱罴箴犷俭疳沆狍蠼Ⅲ趄⒕ㄡ蝌狴溟礤铙轱轭轸獒飙疱蝽豸狒轱癌┅集箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅驷铑膈汨瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕戾è痱轭翦癌磲骒轲癌┘箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈ㄦ轼铛痱轭翦磲骒轲螬┘箴犷俭疳沆狍蠼Ⅲ趄⒕ㄣ犰飙鏖翳疱蝽豸狒轱铙集箴犷俭疳沆狍蠼Ⅲ趄⒕灬礅溽疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕麒孱é祠痱轭翦痱轭舡疱蝽螵┘箴犷俭疳沆狍蠼Ⅲ趄⒕痱轭舡疱蝽豸狒轱疱蝽豸狒轱瞟集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄩ钽痱轭翦洎┘箴犷俭疳沆狍蠼Ⅲ趄⒕戾è骒轲ㄣ秕铘骒轲疱蝽豸狒轱瞟┅集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ邈灬蝈ㄦ轼铛骒轲螬┘箴犷俭疳沆狍蠼Ⅲ趄⒕ㄩé玺骒轲磲骒轲螬集箴犷俭疳沆狍蠼Ⅲ趄⒕箦翩磲骒轲骒轲螬┅┘箴犷俭疳沆狍蠼Ⅲ趄⒕磲脲疱蝽豸狒轱瞟┘箴犷俭疳沆狍蠼Ⅲ趄⒕磲骒轲螬┘箴犷俭疳沆狍蠼Ⅲ趄⒕集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄤ彐躅磲轭ī集箴犷俭疳沆狍蠼Ⅲ趄⒕戾è膈汨孱疳蝮瀛轭翦珏箦泔钿痫箝狎琏┅┅集箴犷俭疳沆狍蠼Ⅲ趄⒕ㄦ矧磲聃雉恍驷铑膈汨孱俩窿ウ聃雉膈汨孱ㄦ犷铍蹉膈汨孱┅┅集箴犷